---
title: 接口问题以及解决方案汇总
tag: 接口
category: 接口
---

## 接口问题以及解决方案汇总
### 需求描述
>省内接口转为全国统一接口，作为接口中转，主要是承上启下的作用。
保持前端请求以及参数不变的情况下，业务逻辑集中处理；
提供给第三方或者四方?!调用；
当接口变更时只更改当前接口项目即可。

### 问题1
`java.net.URISyntaxException //Http Get请求报出此次错误。`

**问题原因**：

*第三方接口需要将参数部分进行编码后提交。 原接口进行了编码传到中转接口这里仍然需要获取并重新编码传给第三方。*

**解决办法**：

 重新进行编码
`URLEncoder.encode(param.toJSONString(),"utf-8")`
### 问题2
    关于接口请求参数JSON格式的重新封装问题。
**问题原因**：

*请求参数param是json格式的，接收过来的参数不能直接toJSONString，编码后传给第三方*

**解决办法**：
```#
if (map.containsKey("param")) {
	JSONObject param = JSONObject.parseObject((String)map.get("param"));
	url = url + "&param=" + URLEncoder.encode(param.toJSONString(),"utf-8");
}
```
> 针对接口调用做简单的记录，方便今后查看。
> 其实最好的框架是适合项目本身的，与高级或所谓低端无关，越是简单的反而更能解决问题，提升效率。



>是非入耳君须忍，半作痴呆半作聋。 

